{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","React","Component","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","className","s","descriptionBlock","src","photos","large","Preloader","Post","item","message","likesCount","maxLength10","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","name","validate","required","MyPosts","postsElements","posts","map","p","key","id","postsBlock","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","content","ProfileContainer","userId","this","match","params","authorizedUserId","getUserProfile","getStatus","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.16690a12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3bR6I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3fNAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1bEvG\",\"posts\":\"MyPosts_posts__kjDtV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ZPYdc\"};","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n\tstate = {\r\n\t\teditMode: false,\r\n\t}\r\n\r\n\tactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: true,\r\n\t\t\tstatus: this.props.status\r\n\t\t})\r\n\t}\r\n\tdeactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: false\r\n\t\t})\r\n\t\tthis.props.updateStatus(this.state.status);\r\n\t}\r\n\tonStatusChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tstatus: e.currentTarget.value\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.status !== this.props.status) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatus: this.props.status\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!this.state.editMode &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span onDoubleClick={this.activateEditMode}>{this.props.status || \"---\"}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.editMode &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.props.status} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ProfileStatus;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tuseEffect( () => {\r\n\t\tsetStatus(props.status);\r\n\t}, [props.status]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateStatus(status);\r\n\t}\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus( e.currentTarget.value );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{ !editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t<span onDoubleClick={ activateEditMode }>{props.status || \"---\"}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t<input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus }) => {\r\n\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.descriptionBlock}>\r\n\t\t\t\t<img src={profile.photos.large} />\r\n\t\t\t\t<ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n    \t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\treturn  (\r\n\t\t<div className={s.item}>\r\n\t\t\t<img src=\"https://exclaim.ca/images/avatar_4.jpg\" />\r\n\t\t\t{ props.message }\r\n\t\t\t<div>\r\n\t\t\t\t<span>like { props.likesCount }</span>\r\n\t\t\t</div>\r\n    </div>\r\n\t)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../api/utils/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = (props) => {\r\n\r\n\tlet postsElements = \r\n\t\t\tprops.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} /> );\r\n\r\n\tlet onAddPost = (values) => {\r\n\t\tprops.addPost(values.newPostText);\r\n\t}\r\n\r\n\treturn ( \r\n\t\t<div className={ s.postsBlock }>\r\n\t\t\t<h3>My Posts</h3>\r\n\t\t\t<AddNewPostFormRedux onSubmit={onAddPost} />\r\n\t\t\t<div className={s.posts}>\r\n\t\t\t\t{postsElements}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst AddNewPostForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field component={Textarea} placeholder={\"Post message\"} name=\"newPostText\" validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddNewPostForm\" })(AddNewPostForm)\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (newPostText) => {\r\n\t\t\tdispatch(addPostActionCreator(newPostText))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n\treturn (\r\n\t\t<div className={s.content}>\r\n\t\t\t<ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\t// if (!userId) {\r\n\t\t\t// \tthis.props.history.push(\"/login\");\r\n\t\t\t// }\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getStatus(userId);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props}\r\n\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\tstatus={this.props.status}\r\n\t\t\t\tupdateStatus={this.props.updateStatus} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n\twithRouter,\r\n\t// withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}